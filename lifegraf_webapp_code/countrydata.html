<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="./style.css">
<title>LifeGraf</title>



</head>

<body>

 <script type="text/javascript" src="http://www.google.com/jsapi"></script>
  <script type="text/javascript">
  
  function gup( name )
	{
	  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	  var regexS = "[\\?&]"+name+"=([^&#]*)";
	  var regex = new RegExp( regexS );
	  var results = regex.exec( window.location.href );
	  if( results == null )
		return "";
	  else
		return results[1];
	}
  
  	var countryParam = gup('country');
  
    google.load('visualization', '1', {packages: ['table', 'columnchart']});

    function drawVisualization() {
      
      //For specific country
      
      //hardcoded canada
	  var country;
	  
	  var CA = {
	   "mcdonald" : 7.57,
	   "coke" : 1.76,
	   "milk" : 2.00,
	   "bread" : 2.42,
	   "beer" : 3.13,
	   "rent": 957,
	   "transport": 2.69,
	   "utility": 201,
	   "nike": 97,
	   "cinema": 11.75
	    } ;
		
			 var CN = {
	   "mcdonald" : 4.15,
	   "coke" : 0.59,
	   "milk" : 1.70,
	   "bread" : 1.39,
	   "beer" : 1.10,
	   "rent": 461,
	   "transport": 0.32,
	   "utility": 29.64,
	   "nike": 93.76,
	   "cinema": 9.51
	    } ;
		
				
	   var IN = {
	   "mcdonald" : 3.79,
	   "coke" : 0.42,
	   "milk" : 0.63,
	   "bread" : 0.40,
	   "beer" : 1.63,
	   "rent": 176,
	   "transport": 0.28,
	   "utility": 36,
	   "nike": 62,
	   "cinema": 3.71
	    } ;
		
				
	   var US = {
	   "mcdonald" : 6,
	   "coke" : 1.5,
	   "milk" : 1.14,
	   "bread" : 2.31,
	   "beer" : 3.16,
	   "rent": 897,
	   "transport": 1.94,
	   "utility": 207,
	   "nike": 81,
	   "cinema": 9.5
	    } ;
		
				
	   var GB = {
	   "mcdonald" : 7.90,
	   "coke" : 1.95,
	   "milk" : 1.5,
	   "bread" : 1.76,
	   "beer" : 4.56,
	   "rent": 977,
	   "transport": 3.53,
	   "utility": 199,
	   "nike": 94,
	   "cinema": 11.75
	    } ;
	 
	  
	  
	  switch(countryParam)
	  {
		  case "IN": country = IN;
		  break;
		  
		  case "CA": country = CA;
		  break;
		  
		  case "US": country = US;
		  break;
		  
		  case "GB": country = GB;
		  break;
		  
		  case "CN": country = CN;
		  break;
	  };
      

	 
	  
      var mcdonald = 7.57;
      var coke = 1.76;
      var milk = 2.01;
      var bread = 2.42;
      var beer = 3.13;
      
      var rent = 957;
      var transport = 2.69;
      var utility = 201.46;
      var nike = 97.89;
      var cinema = 11.75;

      
      // Create and populate the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Index/Commodity');
      data.addColumn('number', 'Coke Bottles');
      data.addColumn('number', 'McDonalds Combo meal');
      data.addColumn('number', 'Milk(lt)');
       data.addColumn('number', 'Bread Loaf');
      data.addColumn('number', 'Domestic beer');
      data.addRows(5);
      
      data.setCell(0, 0, '1BR Apartment in City Centre');
      data.setCell(1, 0, 'Transport (one way ticket)');
      data.setCell(2, 0, 'Monthly utilities (Gas, Water, Elec.)');
      data.setCell(3, 0, 'Pair of Nike Shoes');
      data.setCell(4, 0,  'Cinema Ticket');
      
      data.setCell(0, 1, Math.round(country['rent']/country['coke']));
      data.setCell(1, 1, Math.round(country['transport']/country['coke']));
      data.setCell(2, 1, Math.round(country['utility']/country['coke']));
      data.setCell(3, 1, Math.round(country['nike']/country['coke']));
      data.setCell(4, 1, Math.round(country['cinema']/country['coke']));
      
      data.setCell(0, 2, Math.round(country['rent']/country['mcdonald']));
      data.setCell(1, 2, Math.round(country['transport']/country['mcdonald']));
      data.setCell(2, 2, Math.round(country['utility']/country['mcdonald']));
      data.setCell(3, 2, Math.round(country['nike']/country['mcdonald']));
      data.setCell(4, 2, Math.round(country['cinema']/country['mcdonald']));
      
      data.setCell(0, 3, Math.round(country['rent']/country['milk']));
      data.setCell(1, 3, Math.round(country['transport']/country['milk']));
      data.setCell(2, 3, Math.round(country['utility']/country['milk']));
      data.setCell(3, 3, Math.round(country['nike']/country['milk']));
      data.setCell(4, 3, Math.round(country['cinema']/country['milk']));
      
      data.setCell(0, 4, Math.round(country['rent']/country['bread']));
      data.setCell(1, 4, Math.round(country['transport']/country['bread']));
      data.setCell(2, 4, Math.round(country['utility']/country['bread']));
      data.setCell(3, 4, Math.round(country['nike']/country['bread']));
      data.setCell(4, 4, Math.round(country['cinema']/country['bread']));
      
      data.setCell(0, 5, Math.round(country['rent']/country['beer']));
      data.setCell(1, 5, Math.round(country['transport']/country['beer'],2));
      data.setCell(2, 5, Math.round(country['utility']/country['beer'],2));
      data.setCell(3, 5, Math.round(country['nike']/country['beer']));
      data.setCell(4, 5, Math.round(country['cinema']/country['beer']));

      
      // Create and draw the visualization.
      visualization = new google.visualization.Table(document.getElementById('table'));
      visualization.draw(data, null);
      
      
       // var table = new google.visualization.Table(document.getElementById('table'));
      //table.draw(data, null);
    
      var dataView = new google.visualization.DataView(data);
      dataView.setColumns([0,1, 2,3,4,5]);
    
      var chart = new google.visualization.ColumnChart(document.getElementById('chart'));
      chart.draw(dataView, {width: 800, height: 400});
      
    }
    

    google.setOnLoadCallback(drawVisualization);
  </script>
  
  <script type="text/javascript">

function loadPage(form) {

  var redirUrl = "countrydata.html?country=";
  location.href=redirUrl + form.select.options[form.select.selectedIndex].value;

}

</script>


<p>&nbsp;</p>
<p class="style1"> <img src="img20.jpg" alt="" width="100" height="80"/> Life<span class="style2">Graf<span style="font-size: 28px">  </span></span><span style="width:914px; text-align:center; font-size: 28px; margin:0 auto 0;"></span></p>
<div style="margin:0 auto 0; width:914px; text-align:right;"><a class="toplink" href="http://www4.ncsu.edu/~harora/lifegraf/">Visualization</a><a class="toplink" href="http://www4.ncsu.edu/~harora/lifegraf/visualization.html?commodity=nike" >HeatMap</a><a  class="toplink" href="http://www4.ncsu.edu/~harora/lifegraf/countrydata.html?country=CA">Data</a></div>
<br/>
<div class="style3">
<div id="table"></div>

<br />

<!-- div id="chart"></div -->
		
	<form>
		<div align="right">
		<div style="width:115px;text-align:left;">
		Select Country<br />
<select NAME="select" onchange="loadPage(this.form)" style="padding:5px; background:#EFEFEF; font: 20px Verdana; color: #999; ">
<option  value="CA">Canada</option>
<option value="CN">China</option>
<option value="IN">India</option>
<option value="US">USA</option>
<option value="GB">UK</option>
</select>
</div>
</div>
</form>


<br />
<br />
<br />
<br />
<div style="width:914px; margin:0 auto 0; font-size:18px; font-family:calibri; color:#aaa; text-align:right;">

© 2011 LifeGraf | <a style="color:#069" href="about.html">About Us</a>


</div>

</div>

</body>

</html>
